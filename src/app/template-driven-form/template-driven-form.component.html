<div>
   <pre>{{ f.form.value | json }}</pre>
  <form #f="ngForm" (ngSubmit)="onSubmit()">
    <fieldset>
      <div class="form-group">
        <label>First Name</label>
        <input
          type="text"
          class="form-control"
          name="firstName"
          [(ngModel)]="model.firstName"
          required
          #firstName="ngModel"
        >
      </div>
      <div class="form-group">
        <label>Last Name</label>
        <input
          type="text"
          class="form-control"
          name="lastName"
          [(ngModel)]="model.lastName"
          required
          #lastName="ngModel"
        >
      </div>
    </fieldset>
    <div class="form-group">
      <label>Email</label>
      <input
        type="text"
        name="email"
        class="form-control"
        [ngClass]="{
          'is-invalid': email.invalid && (email.dirty || email.touched),
          'is-valid': email.valid && email.dirty
        }"
        [(ngModel)]="model.email"
        required
        pattern="[^ @]*@[^ @]*"
        #email="ngModel"
      >
      <div class="invalid-feedback" *ngIf="email.invalid && (email.dirty || email.touched)">
        <div *ngIf="email.errors.required" >
          Email is required
        </div>
        <div *ngIf="email.errors.pattern" >
          Invalid Email
        </div>
      </div>
      <!--<pre>Dirty? {{ email.dirty }}</pre>-->
    </div>
    <div class="form-group">
      <label>Password</label>
      <input
        type="text"
        name="password"
        class="form-control"
        [(ngModel)]="model.password"
        required
        #password="ngModel"
      >
    </div>
    <div class="form-group">
      <label>Language</label>
      <select class="form-control"
              name="language"
              #language="ngModel"
              [(ngModel)]="model.language">
        <option value="">Please select a language</option>
        <option *ngFor="let lang of languages"
                [value]="lang">{{lang}}
        </option>
      </select>
    </div>
    <div>
      <button
        [disabled]="f.invalid"
        type="submit"
        class="btn btn-primary">Submit</button>
    </div>
  </form>
</div>
